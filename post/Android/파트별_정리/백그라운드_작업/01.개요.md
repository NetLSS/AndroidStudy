# 백그라운드 처리 가이드

## 기본 원칙

- 일반적으로, 몇 밀리초 이상 걸리는 작업은 백그라운드 스레드에 위임해야함
  - (100~200ms 는 사용자가 속도 저하를 인지하는 임계값)
- 시간이 많이 소요 되는 일반적인 작업 예시
  - 비트맵 디코딩
  - 저장소 엑세스
  - 머신러닝 모델 작업
  - 네트워크 요청 실행 등

## 백그라운드 작업의 카테고리

백그라운드 작업은 아래 기본 카테고리 중 하나에 속한다
- 즉시(immediate)
- 지연(deferred)
- 정시(exact)


- 결정트리
```py
if 사용자가 앱과 상호작용하는 동안 작업이 완료되어야 하는가:
    즉시(immediate)
else if 작업이 정확한 시간에 실행되어야 하는가:
    정시(Exact)
else:
    지연(deferred)
```


- 대부분의 작업은 정확한 시간에 실행할 필요가 없음
- 일반적으로 약간의 편차를 허용(네트워크 가용성 및 배터리 잔량 등의 조건을 기반으로)
- 정확한 시간에 실행할 필요가 없는 작업은 deferred(지연)으로 분류

## 추천 해결 방법

각 유형별 추천 해결 방법

### 즉시 실행해야 하는 작업

- 사용자가 특정 범위를 벗어나거나 상호작용을 완료할 때 종료해야하는 작업
  - 코루틴
  - 여러 ```Android KTX```라이브러리에는 ViewModel 및 일반적인 앱 수명주기와 같은 일반적인 앱 컴포넌트에 바로 사 할 수 있는 코루틴 scope 가 포함되어 있음


- 사용자가 앱을 백그라운드로 전환하거나 기기를 다시 시작하더라고

작업자



