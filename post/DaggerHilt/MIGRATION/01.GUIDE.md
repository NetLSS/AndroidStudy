# GUIDE

Hilt로 마이그레이션하는 것은 코드베이스의 상태와 코드베이스가 따르는 관행 또는 패턴에 따라 난이도가 크게 다를 수 있습니다. 이 페이지에서는 앱을 마이그레이션할 때 발생할 수 있는 몇 가지 일반적인 문제에 대한 조언을 제공합니다. 이 페이지에서는 기본 Hilt API를 이미 일반적으로 이해하고 있다고 가정합니다. 그렇지 않은 경우 먼저 Hilt에 대한 빠른 시작 가이드를 살펴보십시오. 이 페이지는 또한 Dagger에 대한 일반적인 이해를 전제로 합니다. 이 페이지는 이미 Dagger를 사용하는 코드베이스를 마이그레이션하는 사람들에게만 유용하기 때문입니다. 코드베이스에서 Dagger를 사용하지 않는 경우 이 가이드는 비 Hilt Dagger 설정에서의 마이그레이션만 다루므로 빠른 시작 가이드를 통해 앱에 Hilt를 추가하세요.

리팩토링 팁: 클래스의 코드를 수정할 때마다 사용되지 않거나 더 이상 존재하지 않는 가져오기가 파일에서 제거되었는지 확인하십시오.

## 0. Plan your migration

Hilt로 마이그레이션할 때 작업을 단계로 구성하고 싶을 것입니다. 이 가이드는 대부분의 경우에 작동해야 하는 일반적인 접근 방식을 제시해야 하지만 모든 마이그레이션은 다릅니다. 권장되는 접근 방식은 Application 또는 @Singleton 구성 요소에서 시작하여 거기에서 점진적으로 확장하는 것입니다. Application 및 @Singleton 이후에 활동을 마이그레이션하고 그 후 프래그먼트를 마이그레이션합니다. 이는 일반적으로 증분 마이그레이션으로 수행할 수 있어야 합니다. 코드베이스가 비교적 작더라도 점진적으로 마이그레이션을 수행하면 단계 사이에 빌드하여 진행 상황을 제대로 확인할 수 있습니다.

### Compare component hierarchies

가장 먼저 할 일은 현재 컴포넌트 계층 구조를 Hilt의 계층 구조와 비교하는 것입니다. 어떤 구성 요소가 어떤 Hilt 구성 요소에 매핑되는지 결정하고 싶을 것입니다. 바라건대 이것은 비교적 간단해야 하지만 명확한 매핑이 없는 경우 사용자 지정 구성 요소를 수동 Dagger 구성 요소로 유지할 수 있습니다. 이러한 구성 요소는 Hilt 구성 요소의 자식일 수 있습니다. 그러나 Hilt는 계층 구조에 구성 요소를 삽입하는 것을 허용하지 않습니다(예: Hilt 구성 요소의 부모 변경). 아래 가이드의 사용자 정의 구성 요소 섹션을 참조하십시오. 이 가이드의 나머지 부분에서는 구성 요소가 모두 Hilt 구성 요소에 직접 매핑되는 마이그레이션을 가정합니다.