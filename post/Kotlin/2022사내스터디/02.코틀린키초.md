# 2장 - 코틀린 기초 🌱

Created: 2022년 5월 25일 오후 5:02
Last Edited Time: 2022년 5월 25일 오후 10:27

# Index

---

# 2장 코틀린 기초 🌱

## 2.1. 기본요소 : 함수와 변수

### 2.1.1. Hello, World!

```kotlin
fun main(args: Array<String>) {
  println("Hello, World!")
}
```

- 타입은 파라미터의 이름 뒤에 붙는다.
- 함수를 최상위 수준에 정의할 수 있다. (클래스 안에 속하지 않아도 된다. ↔Java)
- `;` 생략이 가능하다.

---

### 2.1.2. 함수

- 함수 = 재사용 가능한 코드 블록

```kotlin
fun max(a: Int, b: Int): Int {
	return if (a > b) a else b
}

println(max(1, 2))
// 2
```

![https://user-images.githubusercontent.com/52916061/132991442-fddf16de-ce5b-4b17-9936-eaad93cc55b2.png](https://user-images.githubusercontent.com/52916061/132991442-fddf16de-ce5b-4b17-9936-eaad93cc55b2.png)

- `fun` 다음에 함수 선언이 온다.
- fun `name`( `[파라미터 목록]`): `반환타입` { `본문` }
- kotlin 의 `if`문은 식이다. (↔Java)
    - kotlin 의 대입문(`=`)은 식이 아니다. (↔Java)
        - 둘 다 반대라 버그 발생 가능성이 사라진다.

---

**식이 본문인 함수**

```kotlin
fun max(a: Int, b: Int): Int = if (a>b) a else b
```

- 중괄호와 `return` 을 제거하고 등호(`=`) 를 사용한다.
- `if` 뿐만 아니라 `when`, `try` 등 복잡한 식도 가능하다.

---

```kotlin
fun max(a: Int, b: Int)~~: Int~~ = if (a>b) a else b
```

- 반환 타입이 명확한 경우 생략이 가능하다.
    - why❓ → 컴파일러가 식을 분석해서 정해주기 때문이다.
        - more 🤔 → 이것을 타입 추론(type inference) 이라고 한다.
- but❗️블록이 본문인 함수는 반환 타입 필수이다.

---

### 2.1.3. 변수

```kotlin
val question = "The ultimate question of life, the universe, and everything"
val answer = 42
```

- 보통 타입 지정을 생략한다.
    - 컴파일러가 분석해 타입을 지정한다.

---

```kotlin
val answer: Int = 42
```

- 명시적 타입 지정도 가능하다.
- (↔ Java : 타입이 맨 앞에 온다)

---

```kotlin
// Double
val years2Compute = 7.5e6 // 7.5 * 10^5 = 7500000.0

// Float
val pi = 3.14f
```

- 부동 소수점 사용 시 `Double` 타입이 된다.
- `Float` 타입 사용 시 부동 소수점 뒤에 f 또는 F 를 붙인다.
- **Tip 💡**
    - `shift + control + p` 으로 타입을 확인할 수 있다. (젯브레인즈 IDE 단축키)
    
    ![Untitled](2%E1%84%8C%E1%85%A1%E1%86%BC%20-%20%E1%84%8F%E1%85%A9%E1%84%90%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%AB%20%E1%84%80%E1%85%B5%E1%84%8E%E1%85%A9%20%F0%9F%8C%B1%206431ff35f38b455eb594d6814de12490/Untitled.png)
    

---

**변경 가능한 변수와 변경 불가능한 변수**

- 변경 불가능! 변수
    - `val`
        - value 의 생략
        - 초기화 후 재 대입 불가능
        - (↔ java : 자바의 `final` 변수)
- 변경 가능! 변수
    - `var`
        - variable 의 생략
        - 초기화 후 재 대입 가능
- 모든 변수를 `val` 로 선언하되, 필요 시 `var` 로 변경하자.

---

```kotlin
val message: String
if (canPerformOperation()) {
	message = "Success"
	// 연산 수행 ..
} else {
	message = "Failed"
}
```

- 단, 오직 한 초기화 문장만 실행되는 것이 보장된다면,
    - 조건에 따라 `val` 값을 달리 초기화 할 수 있다.

---

```kotlin
val languages = arrayListOf("Java") //불변 참조 선언
languages.add("Kotlin")             //참조가 가리키는 객체 내부를 변경
```

- `val` 로 지정한 참조는 변경이 불가능 하지만
    - 참조가 가리키는 인스턴스의 내부 값은 변경될 수 있다.
    

---

```kotlin
var answer = 42
answer = "no answer"  //"Error: type mismatch" 컴파일 오류 발생
```

- 컴파일러는 선언 시점에 타입을 추론한다.
    - 때문에, 추론 타입과 다른 타입 대입 시 오류가 발생
    - 또는 형변환을 사용 (6.2.3절 참고)

### 2.1.4. 더 쉽게 문자열 형식 지정 : 문자열 템플릿

---

## 2.2. 클래스와 프로퍼티

---

### 2.2.1. 프로퍼티

---

### 2.2.2. 커스텀 접근자

---

### 2.2.3. 코틀린 소스코드 구조: 디렉터리와 패키지

---

## 2.3. 선택 표현과 처리 : enum 과 when

---

### 2.3.1. enum 클래스 정의

---

### 2.3.2. when으로 enum 클래스 다루기

---

### 2.3.3. when과 임의의 객체를 함께 사용

---

### 2.3.4. 인자 없는 when 사용

---

### 2.3.5. 스마트 캐스트 : 타입 검사와 타입 캐스트를 조합

---

### 2.3.6. 리팩토링 : if 를 when 으로 변경

---

### 2.3.7. if와 when의 분기에서 블록 사용

---

# Reference

- [https://github.com/develop-playground/Kotlin-in-Action-Study/blob/main/Chapter2.md](https://github.com/develop-playground/Kotlin-in-Action-Study/blob/main/Chapter2.md)